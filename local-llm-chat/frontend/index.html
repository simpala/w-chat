<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Local LLM Chat</title>
    <link href="/static/styles/github-dark.min.css" rel="stylesheet"/>
    <link href="/static/styles.css" rel="stylesheet"/>
    <script src="/static/marked.min.js"></script>
    <script src="/static/highlight.min.js"></script>
</head>
<body>
<div class="settings-toggle-container">
    <button id="settingsToggleButton" title="Toggle Settings Pane">‚öôÔ∏è</button>
</div>
<div class="container">
    <div class="sidebar-container">
        <button id="newChatButton">New Chat</button>
        <p class="italic-small">ctrl + left mouse click to delete</p>
        <div id="chatSessionList">
            <!-- Chat sessions will be added here dynamically -->
        </div>
        <div class="commands-container">
            <button id="commandsButton">Commands</button>
        </div>
    </div>
    <div class="chat-area">
        <div class="chat-header">
            <select id="systemPromptSelect"></select>
            <textarea id="customSystemPrompt" placeholder="System Prompt Content..." readonly></textarea>
        </div>
        <div class="messages-container">
        </div>
        <div class="input-area">
            <textarea id="messageInput" placeholder="Type your message..."></textarea>
            <input accept="image/*,video/*" id="fileUploadInput" style="display: none;" type="file"/>
            <button id="uploadArtifactButton" title="Upload File">üìé</button>
            <button id="sendButton">Send</button>
        </div>
    </div>
    <div class="artifacts-panel" id="artifactsPanel">
        <div class="resize-handle"></div> <!-- Visual cue for resizing -->
        <div class="artifacts-header">
            <h3>Artifacts</h3>
            <button id="toggleArtifactsPanel">Toggle</button>
        </div>
        <div class="artifacts-content" id="artifactsContent">
            <!-- Artifacts will be displayed here -->
        </div>
    </div>
    <div class="sidebar-container right sidebar-hidden">
        <input id="llamaPathInput" placeholder="Llama Server Path" type="text"/>
        <input id="modelPathInput" placeholder="Model Folder Path" type="text"/>
        <select id="chatModelSelect"></select>
        <textarea id="chatModelArgs" placeholder="Chat Model Arguments..."></textarea>
        <button id="launchLLMButton">Launch LLM Model</button>
        <div class="slider-container">
            <label for="chunkSizeSlider">Chunk Size</label>
            <input id="chunkSizeSlider" min="32" max="1024" type="range" value="128">
        </div>
        <div class="flex-align-center">
            <label for="streamingEnabled">Enable Streaming:</label>
            <input id="streamingEnabled" type="checkbox"/>
        </div>
        <div class="flex-align-center">
            <label for="speculativeEnabled">Enable Speculative Decoding:</label>
            <input id="speculativeEnabled" type="checkbox"/>
        </div>
        <div class="flex-align-center">
            <label for="usePreprocessor">Enable Preprocessor:</label>
            <input id="usePreprocessor" type="checkbox"/>
        </div>
        <div class="flex-align-center">
            <label for="dedicatedAgentEnabled">Enable Dedicated Agent:</label>
            <input id="dedicatedAgentEnabled" type="checkbox"/>
        </div>
        <div class="agent-element">
            <select id="agentModelSelect"></select>
            <textarea id="agentModelArgs" placeholder="Agent Model Arguments..."></textarea>
            <button id="launchAgentButton">Launch Agent Model</button>
        </div>
        <div class="speculative-element">
            <div class="margin-bottom">
                <label for="speculativeMainModelSelect">-m:</label>
                <select id="speculativeMainModelSelect"></select>
            </div>
            <div class="margin-bottom">
                <label for="speculativeDraftModelSelect">-md:</label>
                <select id="speculativeDraftModelSelect"></select>
            </div>
            <textarea id="speculativeModelArgs" placeholder="Speculative Model Arguments..."></textarea>
            <button id="launchSpeculativeButton">Launch Speculative Model</button>
        </div>
        <div class="rag-controls">
            <div class="flex-align-center">
                <label for="ragEnabled">Enable RAG:</label>
                <input id="ragEnabled" type="checkbox"/>
            </div>
            <div class="rag-element">
                <select id="embeddingModelSelect"></select>
                <textarea id="embeddingModelArgs" placeholder="Embedding Model Arguments..."></textarea>
                <button id="launchEmbedButton">Launch Embedding Model</button>
                <p class="italic-small">RAG is enabled, application will use data in /data/data.txt</p>
            </div>
        </div>
    </div>
</div>
<script src="/static/script.js"></script>
</body>
</html>
